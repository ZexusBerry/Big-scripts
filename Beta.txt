local player = game.Players.LocalPlayer

-- Создаем ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Создаем Frame для меню
local Menu = Instance.new("Frame")
Menu.Name = "CustomMenu"
Menu.Size = UDim2.new(0.33, 0, 0.82, 0)  -- Увеличим высоту меню
Menu.Position = UDim2.new(0.17, 0, 0.44, 0)
Menu.AnchorPoint = Vector2.new(0.5, 0.5)
Menu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Menu.BorderSizePixel = 0
Menu.ClipsDescendants = true
Menu.Parent = screenGui

-- Функция для создания кнопки
local function CreateButton(text, position)
	local button = Instance.new("TextButton")
	button.Name = "CustomButton"
	button.Text = text
	button.Size = UDim2.new(0.8, 0, 0.08, 0)
	button.Position = position
	button.AnchorPoint = Vector2.new(0.5, 0)
	button.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	button.BorderColor3 = Color3.fromRGB(100, 100, 100)
	button.BorderSizePixel = 2
	button.Font = Enum.Font.SourceSans
	button.TextColor3 = Color3.new(1, 1, 1)
	button.TextSize = 20
	button.TextWrapped = true
	button.Parent = Menu
	return button
end

-- Функция для создания чекбокса
local function CreateCheckBox(text, position)
	local checkBoxFrame = Instance.new("Frame")
	checkBoxFrame.Name = "CustomCheckBoxFrame"
	checkBoxFrame.Size = UDim2.new(0.8, 0, 0.1, 0)
	checkBoxFrame.Position = position
	checkBoxFrame.AnchorPoint = Vector2.new(0.5, 0)
	checkBoxFrame.BackgroundTransparency = 1
	checkBoxFrame.Parent = Menu

	local checkBox = Instance.new("TextButton")
	checkBox.Name = "CustomCheckBox"
	checkBox.Text = ""
	checkBox.Size = UDim2.new(0.1, 0, 0.5, 0)
	checkBox.Position = UDim2.new(0, 0, 0, 0)
	checkBox.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	checkBox.BorderColor3 = Color3.fromRGB(100, 100, 100)
	checkBox.BorderSizePixel = 2
	checkBox.Font = Enum.Font.SourceSans
	checkBox.TextSize = 20
	checkBox.AutoButtonColor = false
	checkBox.Parent = checkBoxFrame

	local checkMark = Instance.new("Frame")
	checkMark.Name = "CheckMark"
	checkMark.Size = UDim2.new(0.8, 0, 0.8, 0)
	checkMark.Position = UDim2.new(0.1, 0, 0.1, 0)
	checkMark.BackgroundColor3 = Color3.fromRGB(100, 200, 100)
	checkMark.BorderSizePixel = 0
	checkMark.Visible = false
	checkMark.Parent = checkBox

	checkBox.MouseButton1Click:Connect(function()
		checkMark.Visible = not checkMark.Visible
	end)

	local checkText = Instance.new("TextLabel")
	checkText.Name = "CheckText"
	checkText.Text = text
	checkText.Size = UDim2.new(0.55, 0, 0.5, 0)
	checkText.Position = UDim2.new(0.25, 0, 0, 0)
	checkText.BackgroundTransparency = 1
	checkText.Font = Enum.Font.SourceSans
	checkText.TextSize = 20
	checkText.TextColor3 = Color3.new(1, 1, 1)
	checkText.TextWrapped = true
	checkText.Parent = checkBoxFrame

	return checkBoxFrame
end

local button1 = CreateButton("Arena Farm (beta)", UDim2.new(0.5, 0, 0.05, 0))
local button2 = CreateButton("Get Tycoon :D (10min)", UDim2.new(0.5, 0, 0.17, 0))
local button3 = CreateButton("Get all Slapple", UDim2.new(0.5, 0, 0.29, 0))

-- Создание чекбоксов
local checkBox1 = CreateCheckBox("Wait baby..", UDim2.new(0.5, 0, 0.47, 0))


local player = game.Players.LocalPlayer
local button = script.Parent -- Предполагается, что кнопка находится в том же объекте, где находится этот скрипт

local isTeleporting = false -- Переменная для отслеживания состояния телепортации

-- Функция для телепортации игрока к объекту
local function teleportToButton()
	local retroDoor = workspace:FindFirstChild("Battlearena") -- Находим модель Battlearena в workspace
	if retroDoor then
		local buttonInside = retroDoor:FindFirstChild("Arena") -- Находим кнопку внутри модели
		if buttonInside then
			local buttonPosition = buttonInside.Position -- Получаем позицию кнопки
			local character = player.Character
			if character then
				local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
				if humanoidRootPart then
					humanoidRootPart.CFrame = CFrame.new(buttonPosition) + Vector3.new(0, 5, 0) -- Телепортируем игрока к кнопке с некоторым смещением вверх
				else
					warn("HumanoidRootPart не найден в персонаже.")
				end
			else
				warn("Персонаж не найден.")
			end
		else
			warn("Кнопка не найдена в модели Battlearena.")
		end
	else
		warn("Модель Battlearena не найдена в workspace.")
	end
end

-- Функция для периодического телепортирования
local function periodicTeleport()
	while isTeleporting do
		teleportToButton()
		wait(0.15) -- Ждем 1 секунду перед следующим телепортированием
	end
end

-- Привязываем функцию телепортации к событию нажатия кнопки
button1.MouseButton1Click:Connect(function()
	isTeleporting = not isTeleporting -- Изменяем состояние телепортации
	if isTeleporting then
		-- Запускаем функцию периодического телепортирования в новом потоке
		coroutine.wrap(periodicTeleport)()
	end
end)

local player = game.Players.LocalPlayer

-- Функция для телепортации игрока к объекту "plate" в "Workspace.Arena"
local function teleportToPlate()
	local arena = workspace:FindFirstChild("Arena") -- Находим объект Arena в workspace
	if arena then
		local plate = arena:FindFirstChild("plank") -- Находим объект plate внутри Arena
		if plate then
			local platePosition = plate.Position -- Получаем позицию plate
			local character = player.Character
			if character then
				local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
				if humanoidRootPart then
					humanoidRootPart.CFrame = CFrame.new(platePosition) + Vector3.new(0, 5, 0) -- Телепортируем игрока к plate с некоторым смещением вверх
				else
					warn("HumanoidRootPart не найден в персонаже.")
				end
			else
				warn("Персонаж не найден.")
			end
		else
			warn("Объект plate не найден внутри Arena.")
		end
	else
		warn("Объект Arena не найден в workspace.")
	end
end

local isTeleporting = false -- Переменная для отслеживания состояния периодической телепортации

-- Функция для периодической телепортации игрока к объекту "plate"
local function periodicTeleport2()
	while isTeleporting do
		teleportToPlate()
		wait(0.04) -- Период телепортации каждую секунду
	end
end

-- Привязываем функцию телепортации к событию нажатия на кнопку
button2.MouseButton1Click:Connect(function()
	isTeleporting = not isTeleporting -- Изменяем состояние периодической телепортации
	if isTeleporting then
		-- Запускаем функцию периодической телепортации в новом потоке
		coroutine.wrap(periodicTeleport2)()
	end
end)

local player = game.Players.LocalPlayer
local button = script.Parent -- Предполагается, что кнопка находится в том же объекте, где находится этот скрипт

local isTeleporting = false -- Переменная для отслеживания состояния периодической телепортации
local slapples = {} -- Таблица для хранения всех объектов Slapple

-- Функция для нахождения всех объектов Slapple и добавления их в таблицу
local function findSlapples()
	local arena = workspace:FindFirstChild("Arena") -- Находим объект Arena в workspace
	if arena then
		local island5 = arena:FindFirstChild("island5") -- Находим объект island5 внутри Arena
		if island5 then
			local slapplesFolder = island5:FindFirstChild("Slapples") -- Находим папку Slapples внутри island5
			if slapplesFolder then
				for _, child in ipairs(slapplesFolder:GetChildren()) do
					if child.Name == "Slapple" then
						table.insert(slapples, child)
					end
				end
			else
				warn("Папка Slapples не найдена внутри island5.")
			end
		else
			warn("Объект island5 не найден внутри Arena.")
		end
	else
		warn("Объект Arena не найден в workspace.")
	end
end

-- Функция для телепортации игрока к следующему объекту Slapple
local currentIndex = 1 -- Индекс текущего объекта Slapple
local function teleportToNextSlapple()
	if #slapples == 0 then
		warn("Нет объектов Slapple для телепортации.")
		return
	end
	local currentSlapple = slapples[currentIndex]
	if currentSlapple then
		local slapplePosition = currentSlapple.Position -- Получаем позицию текущего объекта Slapple
		local character = player.Character
		if character then
			local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
			if humanoidRootPart then
				humanoidRootPart.CFrame = CFrame.new(slapplePosition) + Vector3.new(0, 5, 0) -- Телепортируем игрока к текущему объекту Slapple с некоторым смещением вверх
				currentIndex = currentIndex % #slapples + 1 -- Переходим к следующему объекту Slapple
			else
				warn("HumanoidRootPart не найден в персонаже.")
			end
		else
			warn("Персонаж не найден.")
		end
	end
end

-- Функция для периодической телепортации игрока к объектам Slapple
local function periodicTeleport3()
	while isTeleporting do
		teleportToNextSlapple()
		wait(1) -- Период телепортации каждую секунду
	end
end

-- Привязываем функцию нахождения объектов Slapple к событию нажатия на кнопку
button3.MouseButton1Click:Connect(function()
	findSlapples() -- Находим все объекты Slapple
	isTeleporting = true -- Начинаем периодическую телепортацию
	coroutine.wrap(periodicTeleport3)()
end)
